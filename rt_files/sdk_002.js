/*!
 * 
 * EEEEEEEEEEEEEEEEEEEEEEXXXXXXX       XXXXXXX                CCCCCCCCCCCCC     OOOOOOOOO
 * E::::::::::::::::::::EX:::::X       X:::::X             CCC::::::::::::C   OO:::::::::OO
 * E::::::::::::::::::::EX:::::X       X:::::X           CC:::::::::::::::C OO:::::::::::::OO
 * EE::::::EEEEEEEEE::::EX::::::X     X::::::X          C:::::CCCCCCCC::::CO:::::::OOO:::::::O
 *   E:::::E       EEEEEEXXX:::::X   X:::::XXX         C:::::C       CCCCCCO::::::O   O::::::O
 *   E:::::E                X:::::X X:::::X           C:::::C              O:::::O     O:::::O
 *   E::::::EEEEEEEEEE       X:::::X:::::X            C:::::C              O:::::O     O:::::O
 *   E:::::::::::::::E        X:::::::::X             C:::::C              O:::::O     O:::::O
 *   E:::::::::::::::E        X:::::::::X             C:::::C              O:::::O     O:::::O
 *   E::::::EEEEEEEEEE       X:::::X:::::X            C:::::C              O:::::O     O:::::O
 *   E:::::E                X:::::X X:::::X           C:::::C              O:::::O     O:::::O
 *   E:::::E       EEEEEEXXX:::::X   X:::::XXX         C:::::C       CCCCCCO::::::O   O::::::O
 * EE::::::EEEEEEEE:::::EX::::::X     X::::::X          C:::::CCCCCCCC::::CO:::::::OOO:::::::O
 * E::::::::::::::::::::EX:::::X       X:::::X ......    CC:::::::::::::::C OO:::::::::::::OO
 * E::::::::::::::::::::EX:::::X       X:::::X .::::.      CCC::::::::::::C   OO:::::::::OO
 * EEEEEEEEEEEEEEEEEEEEEEXXXXXXX       XXXXXXX ......         CCCCCCCCCCCCC     OOOOOOOOO
 * 
 * Hello There!
 * Coding is your passion?
 * We constantly look for outstanding people to join our team.
 * Visit us at https://ex.co/careers/ to learn about our job openings.
 * 
 * Looking for help with a ex.co embed?
 * Visit us at https://developer.ex.co/#/items/embed for instructions and help.
 * 
 * Playbuzz Embed SDK
 * Copyright (c) 2017-present, Playbuzz. All rights reserved.
 * www.playbuzz.com
 * 
 */
!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=10)}([function(e,t,n){"use strict";(function(t){var n=setTimeout;function r(){}function o(e){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(e,this)}function i(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,o._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void a(t.promise,e)}u(t.promise,r)}else(1===e._state?u:a)(t.promise,e._value)}))):e._deferreds.push(t)}function u(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof o)return e._state=3,e._value=t,void c(e);if("function"==typeof n)return void l(function(e,t){return function(){e.apply(t,arguments)}}(n,t),e)}e._state=1,e._value=t,c(e)}catch(t){a(e,t)}}function a(e,t){e._state=2,e._value=t,c(e)}function c(e){2===e._state&&0===e._deferreds.length&&o._immediateFn((function(){e._handled||o._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)i(e,e._deferreds[t]);e._deferreds=null}function l(e,t){var n=!1;try{e((function(e){n||(n=!0,u(t,e))}),(function(e){n||(n=!0,a(t,e))}))}catch(e){if(n)return;n=!0,a(t,e)}}o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){var n=new this.constructor(r);return i(this,new function(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}(e,t,n)),n},o.prototype.finally=function(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))},o.all=function(e){return new o((function(t,n){if(!e||void 0===e.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var o=r.length;function i(e,u){try{if(u&&("object"==typeof u||"function"==typeof u)){var a=u.then;if("function"==typeof a)return void a.call(u,(function(t){i(e,t)}),n)}r[e]=u,0==--o&&t(r)}catch(e){n(e)}}for(var u=0;u<r.length;u++)i(u,r[u])}))},o.resolve=function(e){return e&&"object"==typeof e&&e.constructor===o?e:new o((function(t){t(e)}))},o.reject=function(e){return new o((function(t,n){n(e)}))},o.race=function(e){return new o((function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)}))},o._immediateFn="function"==typeof t&&function(e){t(e)}||function(e){n(e,0)},o._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},e.exports=o}).call(this,n(11).setImmediate)},function(e,t,n){"use strict";(function(e){function r(e,t){let n,r;return function(...o){const i=Date.now();n&&i<n+t?(clearTimeout(r),r=setTimeout(()=>{n=i,e(...o)},n+t-i)):(n=i,e(...o))}}function o(e,t){let n=null;return function(...r){const o=this;clearTimeout(n),n=setTimeout(()=>{e.apply(o,r)},t)}}n.d(t,"g",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"h",(function(){return f}));const i=e=>o((e,t=[])=>e(...t),e);function u(e){return Object.keys(e).map(t=>[t,e[t]])}const a=e=>null===e||"object"!=typeof e||0===Object.getOwnPropertyNames(e).length,c=t=>{const n=[];return t.reduce((e,t)=>e.then("function"==typeof t?t:()=>t).then(e=>n.push(e)),e.resolve()).then(()=>n)},l=(e,t=5e3)=>{"requestIdleCallback"in window?window.requestIdleCallback(e,{timeout:t}):setTimeout(e,t)},f=e=>!["Getty Images","img.ex.co"].includes(e)}).call(this,n(0))},function(e,t,n){"use strict";(function(e){function r(){let e=window;for(;e.frameElement;)e=e.parent;return e}function o(t){return new e((e,n)=>{const r=document.createElement("textarea");r.style.opacity="0",r.style.border="0",r.style.margin="0",r.style.padding="0",r.style.width="1px",r.style.height="1px";try{r.value=t,document.body.appendChild(r),r.select(),document.execCommand("copy"),r.parentNode.removeChild(r),e(t)}catch(e){n(e)}})}function i(e,t){if(e.closest)return e.closest(t);let n=e;for(;n;){if(n.matches(t))return n;n=n.parentElement}return null}n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}))}).call(this,n(0))},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:u}catch(e){r=u}}();var c,l=[],f=!1,s=-1;function d(){f&&c&&(f=!1,c.length?l=c.concat(l):s=-1,l.length&&p())}function p(){if(!f){var e=a(d);f=!0;for(var t=l.length;t;){for(c=l,l=[];++s<t;)c&&c[s].run();s=-1,t=l.length}c=null,f=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===u||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function y(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new y(e,t)),1!==l.length||f||a(p)},y.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";(function(t){"true"===t.env.PB_MODULES_USE_SRC?e.exports=n(31):e.exports=n(17)}).call(this,n(3))},function(e,t,n){"use strict";(function(t){"true"===t.env.PB_MODULES_USE_SRC?e.exports=n(32):e.exports=n(18)}).call(this,n(3))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.r(t),function(e,n){var r="function"==typeof e?e.bind():function(e,t){return t=t||{},new n((function(r,o){var i=new XMLHttpRequest;for(var u in i.open(t.method||"get",e,!0),t.headers)i.setRequestHeader(u,t.headers[u]);function a(){var e,t=[],r=[],o={};return i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(n,i,u){t.push(i=i.toLowerCase()),r.push([i,u]),e=o[i],o[i]=e?e+","+u:u})),{ok:2==(i.status/100|0),status:i.status,statusText:i.statusText,url:i.responseURL,clone:a,text:function(){return n.resolve(i.responseText)},json:function(){return n.resolve(i.responseText).then(JSON.parse)},blob:function(){return n.resolve(new Blob([i.response]))},headers:{keys:function(){return t},entries:function(){return r},get:function(e){return o[e.toLowerCase()]},has:function(e){return e.toLowerCase()in o}}}}i.withCredentials="include"==t.credentials,i.onload=function(){r(a())},i.onerror=o,i.send(t.body||null)}))};t.default=r}.call(this,n(7).default,n(0))},function(e,t,n){"use strict";(function(e){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function o(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t);if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===n(t)?t:String(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.document;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._doc=e,this.load=this.load.bind(this)}return function(e,t,n){t&&r(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"load",value:function(t){var n=this;return new e((function(e,r){var o=n._doc.createElement("script");o.type="text/javascript",t.src?(o.onload=function(t){e(t.target.src)},o.onerror=r,o.src=t.src,o.async=t.async,o.defer=t.defer,t.id&&(o.id=t.id)):o.textContent=t.innerText,n._doc.body.appendChild(o),t.parentNode.removeChild(t),t.src||e(o)}))}}]),t}();t.default=i}).call(this,n(0))},function(e,t,n){e.exports="function"==typeof Array.from?Array.from:n(15)},function(e,t,n){"use strict";(function(e){n(29);var t=n(16),r=f(n(20)),o=n(4),i=f(n(23)),u=f(n(24)),a=f(n(25)),c=f(n(26)),l=f(n(8));function f(e){return e&&e.__esModule?e:{default:e}}var s=['.exco[data-id]:not([data-rendered="true"])','.playbuzz[data-id]:not([data-rendered="true"])','.pb_feed:not([render-status="rendered"])'],d=[{href:"".concat("https://static.ex.co/pb-story/production/be0891ff739b78b7e3603db9f85d5ca2d0946e21-2022-09-13-14-09-51","/story-viewer.js"),as:"script"}],p="true"===(0,o.getQueryStringValue)("pbdebug"),y=(0,r.default)(),m=new t.Logger({prefix:"EX.CO SDK",isDebug:p}),h=new u.default,b=new i.default,g=new c.default(m,"https://prd-collector-platform.ex.co/main/events",y);function v(){return m.debug("searching for elements..."),h.find(s).then((function(t){return e.all([].slice.call(t).map(a.default.toVersion3).map(w))}))}function w(e){return g.render(e).catch((function(t){if(218===t.status)return e.style.display="block",function(e,t){return e.text().then((function(e){return(new DOMParser).parseFromString(e,"text/html").getElementById("feed")})).then((function(e){return(new l.default).load(e)})).then((function(){a.default.toVersion2(t),m.debug("feed.js loaded. calling render..."),PlayBuzz.Feed.renderFeed(t)}))}(t,e);m.error("render element failed. error was:",t)})).then((function(){m.debug("element render done.")}))}m.debug("starting..."),m.debug("preloading assets..."),e.all(d.map(b.preload)).then((function(){m.debug("all assets preloaded.")})).catch((function(e){m.warn("preloading assets failed. error was:",e)})),v(),window.Playbuzz=window.Playbuzz||{version:3,sdkLoadId:y,render:v}}).call(this,n(0))},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(o.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new i(o.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(12),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(6))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,o=1,i={},u=!1,a=e.document,c=Object.getPrototypeOf&&Object.getPrototypeOf(e);c=c&&c.setTimeout?c:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){f(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&f(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),r=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){f(e.data)},r=function(t){e.port2.postMessage(t)}}():a&&"onreadystatechange"in a.createElement("script")?function(){var e=a.documentElement;r=function(t){var n=a.createElement("script");n.onreadystatechange=function(){f(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():r=function(e){setTimeout(f,0,e)},c.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var u={callback:e,args:t};return i[o]=u,r(o),o++},c.clearImmediate=l}function l(e){delete i[e]}function f(e){if(u)setTimeout(f,0,e);else{var t=i[e];if(t){u=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{l(e),u=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(6),n(3))},function(e,t,n){"use strict";n(14).polyfill()},function(e,t,n){"use strict";function r(e,t){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var i=Object.keys(Object(o)),u=0,a=i.length;u<a;u++){var c=i[u],l=Object.getOwnPropertyDescriptor(o,c);void 0!==l&&l.enumerable&&(n[c]=o[c])}}return n}e.exports={assign:r,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:r})}}},function(e,t){e.exports=function(){var e=function(e){return"function"==typeof e},t=Math.pow(2,53)-1,n=function(e){var n=function(e){var t=Number(e);return isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t}(e);return Math.min(Math.max(n,0),t)},r=function(e){var t=e.next();return!Boolean(t.done)&&t};return function(t){"use strict";var o,i,u,a=this,c=arguments.length>1?arguments[1]:void 0;if(void 0!==c){if(!e(c))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(o=arguments[2])}var l=function(t,n){if(null!=t&&null!=n){var r=t[n];if(null==r)return;if(!e(r))throw new TypeError(r+" is not a function");return r}}(t,function(e){if(null!=e){if(["string","number","boolean","symbol"].indexOf(typeof e)>-1)return Symbol.iterator;if("undefined"!=typeof Symbol&&"iterator"in Symbol&&Symbol.iterator in e)return Symbol.iterator;if("@@iterator"in e)return"@@iterator"}}(t));if(void 0!==l){i=e(a)?Object(new a):[];var f,s,d=l.call(t);if(null==d)throw new TypeError("Array.from requires an array-like or iterable object");for(u=0;;){if(!(f=r(d)))return i.length=u,i;s=f.value,i[u]=c?c.call(o,s,u):s,u++}}else{var p=Object(t);if(null==t)throw new TypeError("Array.from requires an array-like object - not null or undefined");var y,m=n(p.length);for(i=e(a)?Object(new a(m)):new Array(m),u=0;u<m;)y=p[u],i[u]=c?c.call(o,y,u):y,u++;i.length=m}return i}}()},function(e,t,n){"use strict";(function(t){"true"===t.env.PB_MODULES_USE_SRC?e.exports=n(30):e.exports=n(19)}).call(this,n(3))},function(e,t,n){(function(t){"undefined"!=typeof self&&self,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.copyToClipboard=function(e){return new t((t,n)=>{const r=document.createElement("textarea");r.style.opacity="0",r.style.border="0",r.style.margin="0",r.style.padding="0",r.style.width="1px",r.style.height="1px";try{r.value=e,document.body.appendChild(r),r.select(),document.execCommand("copy"),r.parentNode.removeChild(r),t(e)}catch(e){n(e)}})},n.findAncestor=function(e,t){if(e.closest)return e.closest(t);let n=e;for(;n;){if(n.matches(t))return n;n=n.parentElement}return null},n.getTopWindow=function(){let e=window;for(;e.frameElement;)e=e.parent;return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"copyToClipboard",{enumerable:!0,get:function(){return o.copyToClipboard}}),Object.defineProperty(t,"createDebounce",{enumerable:!0,get:function(){return r.createDebounce}}),Object.defineProperty(t,"debounce",{enumerable:!0,get:function(){return r.debounce}}),Object.defineProperty(t,"entries",{enumerable:!0,get:function(){return r.entries}}),Object.defineProperty(t,"extractHostname",{enumerable:!0,get:function(){return i.extractHostname}}),Object.defineProperty(t,"findAncestor",{enumerable:!0,get:function(){return o.findAncestor}}),Object.defineProperty(t,"generateUrlQueryString",{enumerable:!0,get:function(){return i.generateUrlQueryString}}),Object.defineProperty(t,"getCurrentQueryString",{enumerable:!0,get:function(){return i.getCurrentQueryString}}),Object.defineProperty(t,"getParamValueByKey",{enumerable:!0,get:function(){return i.getParamValueByKey}}),Object.defineProperty(t,"getQueryParamsObject",{enumerable:!0,get:function(){return i.getQueryParamsObject}}),Object.defineProperty(t,"getQueryStringValue",{enumerable:!0,get:function(){return i.getQueryStringValue}}),Object.defineProperty(t,"getTopUrl",{enumerable:!0,get:function(){return i.getTopUrl}}),Object.defineProperty(t,"getTopWindow",{enumerable:!0,get:function(){return o.getTopWindow}}),Object.defineProperty(t,"getUrlData",{enumerable:!0,get:function(){return i.getUrlData}}),Object.defineProperty(t,"isEmptyObject",{enumerable:!0,get:function(){return r.isEmptyObject}}),Object.defineProperty(t,"isUrl",{enumerable:!0,get:function(){return i.isUrl}}),Object.defineProperty(t,"promiseChain",{enumerable:!0,get:function(){return r.promiseChain}}),Object.defineProperty(t,"requestIdleCallback",{enumerable:!0,get:function(){return r.requestIdleCallback}}),Object.defineProperty(t,"throttle",{enumerable:!0,get:function(){return r.throttle}}),Object.defineProperty(t,"upsertQueryParam",{enumerable:!0,get:function(){return i.upsertQueryParam}}),Object.defineProperty(t,"upsertQueryParams",{enumerable:!0,get:function(){return i.upsertQueryParams}}),Object.defineProperty(t,"validCredits",{enumerable:!0,get:function(){return r.validCredits}});var r=n(2),o=n(0),i=n(3)},function(e,n,r){"use strict";function o(e,t){let n=null;return function(...r){const o=this;clearTimeout(n),n=setTimeout(()=>{e.apply(o,r)},t)}}Object.defineProperty(n,"__esModule",{value:!0}),n.createDebounce=void 0,n.debounce=o,n.entries=function(e){return Object.keys(e).map(t=>[t,e[t]])},n.requestIdleCallback=n.promiseChain=n.isEmptyObject=void 0,n.throttle=function(e,t){let n,r;return function(...o){const i=Date.now();n&&i<n+t?(clearTimeout(r),r=setTimeout(()=>{n=i,e(...o)},n+t-i)):(n=i,e(...o))}},n.validCredits=void 0,n.createDebounce=e=>o((e,t=[])=>e(...t),e),n.isEmptyObject=e=>null===e||"object"!=typeof e||0===Object.getOwnPropertyNames(e).length,n.promiseChain=e=>{const n=[];return e.reduce((e,t)=>e.then("function"==typeof t?t:()=>t).then(e=>n.push(e)),t.resolve()).then(()=>n)},n.requestIdleCallback=(e,t=5e3)=>{"requestIdleCallback"in window?window.requestIdleCallback(e,{timeout:t}):setTimeout(e,t)},n.validCredits=e=>!["Getty Images","img.ex.co"].includes(e)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractHostname=a,t.generateUrlQueryString=function(e){return"?"+e.reduce((e,t,n)=>e.concat(`${0===n?"":"&"}${t.key}=${t.value}`),"")},t.getCurrentQueryString=function(){if("undefined"==typeof window)return"";const{href:e}=window.location,t=2===e.split("?").length,n=e.split("?")[1]||"";return t?n:""},t.getParamValueByKey=function(e){const t=l(),n=t.findIndex(t=>t.key===e);return-1!==n?t[n].value.split(","):null},t.getQueryParamsObject=l,t.getQueryStringValue=function(e){if("undefined"==typeof window)return null;const{href:t}=window.location,n=new RegExp(`[?&]${e}=([^&#]*)`,"i").exec(t);return n?n[1]:null},t.getTopUrl=c,t.getUrlData=function(){let e,t;try{e=c(),t=a(e)}catch(e){}return{url:e,host:t}},t.isUrl=u,t.upsertQueryParam=function(e,t){return f(l(),[{key:e,value:t}])},t.upsertQueryParams=f;var r=n(0);const o=/^(?:https?:\/\/)?(?:[^@\n]+@)?(?:www\.)?([^:/\n?=]+)/im,i=/^(www.)(.*)$/;function u(e){return/^(https?:|ftp)/i.test(e)}function a(e){if(!u(e))return e;let t=e;const n=new URLSearchParams(e).get("parentHost");let r;n&&n.length>0&&(t=n);let a=t.match(o);return a&&([,r]=a,(a=r.match(i))&&([,r]=a)),r}function c(){return(0,r.getTopWindow)().location.href}function l(){if("undefined"==typeof window)return[];const{href:e}=window.location,t=2===e.split("?").length,n=e.split("?")[1];if(t&&n&&n.length){const e=decodeURIComponent(n);if(e.length)return e.split("&").map(e=>({key:e.split("=")[0].replace("?",""),value:e.split("=")[1]}))}return[]}function f(e,t){return t.forEach(t=>{const n=e.findIndex(e=>e.key===t.key);-1!==n?0===t.value.length?e.splice(n,1):e[n].value=t.value:0!==t.value.length&&e.push(t)}),e}}])}).call(this,n(0))},function(e,t,n){"undefined"!=typeof self&&self,e.exports=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Timer",{enumerable:!0,get:function(){return r.Timer}});var r=n(1)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Timer=void 0;var r=n(2);class o{start(){this.startTime=window.performance.now()}delta(){return window.performance.now()-this.startTime}static deltaFromDomLoaded(){return(0,r.getTopWindow)().performance.now()}static deltaFromDomLoadedInSeconds({precision:e=2}={}){return(o.deltaFromDomLoaded()/1e3).toFixed(e)}}t.Timer=o},function(t,n){t.exports=e}])}(n(4))},function(e,t,n){"undefined"!=typeof self&&self,e.exports=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Logger",{enumerable:!0,get:function(){return r.Logger}});var r=n(1)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=void 0;var r=n(2);t.Logger=class{constructor({prefix:e="",isDebug:t=!1}={}){this._prefix=e,this.isDebug=t}debug(...e){this.isDebug&&this._log("log",...e)}info(...e){this._log("info",...e)}warn(...e){this._log("warn",...e)}error(...e){this._log("error",...e)}_log(e,...t){"undefined"!=typeof window&&console[e](...this._format(...t))}_format(...e){const t=[].slice.call(e);return t.unshift(`[${r.Timer.deltaFromDomLoadedInSeconds()}s] [${this._prefix}]:`),t}}},function(t,n){t.exports=e}])}(n(5))},function(e,t,n){"use strict";(function(t){"true"===t.env.PB_MODULES_USE_SRC?e.exports=n(21):e.exports=n(22)}).call(this,n(3))},function(e,t,n){"use strict";function r(e){return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,r)}function o(){return r(!1)}n.r(t),n.d(t,"default",(function(){return o}))},function(e,t,n){"undefined"!=typeof self&&self,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function r(e){return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,r)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return r(!1)}}])},function(e,t,n){"use strict";(function(e){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function o(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t);if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===n(t)?t:String(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.document;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._doc=e,this.preload=this.preload.bind(this)}return function(e,t,n){t&&r(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"preload",value:function(t){var n=this;return new e((function(e,r){var o=n._doc.createElement("link");o.rel="preload",o.href=t.href,o.as=t.as,o.onload=function(t){e(t)},o.onerror=function(e){r(e)},n._doc.head.appendChild(o)}))}}]),t}();t.default=i}).call(this,n(0))},function(e,t,n){"use strict";(function(e){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function o(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t);if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===n(t)?t:String(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.document,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._doc=e,this._pollingInterval=n,this.find=this.find.bind(this)}return function(e,t,n){t&&r(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"find",value:function(t){var n=this;return Array.isArray(t)&&(t=t.join(",")),new e((function(e,r){var o=n._doc.querySelectorAll(t);if(o.length>0)return e(o);var i=setInterval((function(){(o=n._doc.querySelectorAll(t)).length>0&&(clearInterval(i),e(o))}),n._pollingInterval)}))}}]),t}();t.default=i}).call(this,n(0))},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i(r.key),r)}}function i(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t);if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===r(t)?t:String(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(e,0,[{key:"toVersion3",value:function(e){return e.classList.contains("exco")||(e.classList.remove("pb_feed"),e.classList.remove("playbuzz"),e.classList.add("exco"),e.dataset.id=e.dataset.item||e.dataset.game||e.dataset.id,e.dataset.showInfo=e.dataset.gameInfo||e.dataset.showInfo,e.dataset.showShare=e.dataset.shares||e.dataset.showShare),e}},{key:"toVersion2",value:function(e){return e.classList.contains("pb_feed")||(e.classList.remove("playbuzz"),e.classList.remove("exco"),e.classList.add("pb_feed"),e.dataset.item=e.dataset.id,e.dataset.gameInfo=e.dataset.showInfo,e.dataset.shares=e.dataset.showShare),e}}]),e}();t.default=u},function(e,t,n){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n(8)),i=n(27),u=n(28),a=n(4);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}function f(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!==c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===c(t)?t:String(t)}var s=function(){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._logger=e,this._analyticsUrl=n,this._sdkLoadId=window.pbPageIdentifier||r,this.render=this.render.bind(this),this._matchesRegex=this._matchesRegex.bind(this),this._reportLoad=this._reportLoad.bind(this),this._injectPageToIframe=this._injectPageToIframe.bind(this),this._loadPage=this._loadPage.bind(this),this._loadIframe=this._loadIframe.bind(this),this._loadScripts=this._loadScripts.bind(this)}return function(e,t,n){t&&l(e.prototype,t),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"render",value:function(t){var n=t.dataset.id,r=t.dataset.placementId,o=t.dataset.preview,i=t.dataset.autoplay,a=t.dataset.autoplayTimeout;if(this._logger.debug("found element with id ".concat(n)),!this._matchesRegex(u.GUID_REGEX,n)&&!this._matchesRegex(u.URL_REGEX,n)){var c="id not supported";return this._logger.error(c),e.reject(c)}this._logger.debug("reporting load..."),this._reportLoad(n,r);var l=t.dataset.xPbReferer;return t.style.display="none",e.all([this._loadPage({id:n,placementId:r,xPbReferer:l,isPreview:o,isAutoplay:i,autoplayTimeout:a}),this._loadIframe(t)]).then(this._injectPageToIframe).then(this._loadScripts).finally((function(){t.style.display="block"}))}},{key:"_matchesRegex",value:function(e,t){return e.test(t)}},{key:"_reportLoad",value:function(e,t){var n={eventName:"sdk_render",deltaTime:((0,i.now)()/1e3).toFixed(2),parentPageLoadUid:this._sdkLoadId,articleId:this._matchesRegex(u.GUID_REGEX,e)?e:void 0,parentUrl:window.location.href,sessionParentHost:(0,a.extractHostname)(window.location.href)};t&&(n.placementId=t,n.experienceId=e),r(this._analyticsUrl,{method:"POST",headers:{"content-type":"text/plain;charset=UTF-8"},body:JSON.stringify(n)}).catch(this._logger.warn)}},{key:"_injectPageToIframe",value:function(e){var t=e[0],n=e[1];return this._logger.debug("injecting page to iframe...",n),n.open(),n.close(),n.head.innerHTML=t.head.innerHTML,n.body.innerHTML=t.body.innerHTML,n}},{key:"_loadPage",value:function(n){var o=this,i=n.id,u=n.placementId,a=n.xPbReferer,c=n.isPreview,l=n.isAutoplay,f=n.autoplayTimeout;this._logger.debug("loading page...");var s=t.createItemPageUrl({id:i,placementId:u,isPreview:c,isAutoplay:l,autoplayTimeout:f}),d={};return a&&(d["X-PB-Referer"]=a),r(s,{method:"GET",headers:d,credentials:"omit"}).then((function(t){return 218===t.status?e.reject(t):t.text()})).then((function(e){return o._logger.debug("page loaded..."),(new DOMParser).parseFromString(e,"text/html")}))}},{key:"_loadIframe",value:function(t){var n=this;return this._logger.debug("loading iframe..."),new e((function(e,r){var o,i=document.createElement("iframe");for(i.style.width="1px",i.style.minWidth="100%",i.style.height="800px",i.style.border="0",i.setAttribute("allowfullscreen",!0),i.setAttribute("scrolling","no"),i.onload=function(r){var i=r.target.contentWindow;if(void 0!==o&&o!==i)return n._logger.warn("iframe reload detected. re-rendering element..."),void n.render(t).then((function(){n._logger.warn("element re-render done.")}));n._logger.debug("iframe loaded."),o=i,e(i.document)},i.onerror=function(e){r(e)},Object.keys(t.dataset).forEach((function(e){i.dataset[e]=t.dataset[e]})),i.dataset.sdkLoadId=n._sdkLoadId;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(i),t.dataset.rendered="true"}))}},{key:"_loadScripts",value:function(t){var n=this;this._logger.debug("loading scripts...");var r=[].slice.call(t.scripts),i=new o.default(t);return e.all(r.map((function(e){return i.load(e).then((function(e){n._logger.debug("script loaded.",e)}))}))).then((function(){return n._logger.debug("all scripts loaded."),t}))}}],[{key:"getCurrentScript",value:function(){var e=document.getElementById("playbuzz-sdk"),t=document.getElementById("exco-sdk");if(null!==e||null!==t)return e||t;var n=[].slice.call(document.scripts).filter((function(e){return e.src}));return 1===n.length||1===(n=n.filter((function(e){return-1!==e.src.indexOf("embed.playbuzz")||-1!==e.src.indexOf("embed.ex.co")}))).length?n[0]:null}},{key:"createItemPageUrl",value:function(e){var t=e.id,n=e.placementId,r=e.isPreview,o=e.isAutoplay,i=e.autoplayTimeout,u=this.getCurrentScript(),a="?id=".concat(t)+"".concat(n?"&placementId=".concat(n):"")+"".concat(r?"&isPreview=true":"")+"".concat(o?"&isAutoplay=true":"")+"".concat(i?"&autoplayTimeout=".concat(i):"");if(null===u)return"https://embed.ex.co/html".concat(a);var c=document.createElement("a");c.href=u.src;var l=c.host.includes("app.ex.co")?"".concat(c.host,"/embed"):c.host;return"".concat(c.protocol,"//").concat(l,"/html").concat(a)}}]),t}();t.default=s}).call(this,n(0),n(7).default)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.now=function(){return Math.round(window.performance.now()-r)};var r=window.performance.timing.domLoading-window.performance.timing.navigationStart},function(e,t){e.exports={GUID_REGEX:/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i,URL_REGEX:/^((((http[s]?:)?\/\/)?([a-z0-9-]*\.)?(playbuzz\.com|ex\.co\/stories))?\/)?([a-z0-9]*)\/([a-z0-9-]*)$/i,URL_START_REGEX:/^((((http[s]?:)?\/\/)?([a-z0-9-]*\.)?(playbuzz\.com|ex\.co\/stories))?\/)?/i}},function(e,t,n){"use strict";n.r(t),n(13);var r=n(9),o=n.n(r);Array.from||(Array.from=o.a),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var r=arguments[1],o=0;o<n;){var i=t[o];if(e.call(r,i,o,t))return o;o++}return-1},configurable:!0,writable:!0}),Array.prototype.flatMap||(Array.prototype.flatMap||(Array.prototype.flatMap=function(){return Array.prototype.map.apply(this,arguments).flat(1)}),Array.prototype.flat||(Array.prototype.flat=function(){var e=arguments[0];return(e=void 0===e?1:Math.floor(e))<1?Array.prototype.slice.call(this):function e(t,n){for(var r=t.length>>>0,o=[],i=0;i<r;){if(i in t){var u=t[i];Array.isArray(u)&&n>0?o=o.concat(e(u,n-1)):o.push(u)}i++}return o}(this,e)}))},function(e,t,n){"use strict";n.r(t),n.d(t,"Logger",(function(){return o}));var r=n(5);class o{constructor({prefix:e="",isDebug:t=!1}={}){this._prefix=e,this.isDebug=t}debug(...e){this.isDebug&&this._log("log",...e)}info(...e){this._log("info",...e)}warn(...e){this._log("warn",...e)}error(...e){this._log("error",...e)}_log(e,...t){"undefined"!=typeof window&&console[e](...this._format(...t))}_format(...e){const t=[].slice.call(e);return t.unshift(`[${r.Timer.deltaFromDomLoadedInSeconds()}s] [${this._prefix}]:`),t}}},function(e,t,n){"use strict";n.r(t),n.d(t,"throttle",(function(){return r.g})),n.d(t,"debounce",(function(){return r.b})),n.d(t,"createDebounce",(function(){return r.a})),n.d(t,"entries",(function(){return r.c})),n.d(t,"isEmptyObject",(function(){return r.d})),n.d(t,"promiseChain",(function(){return r.e})),n.d(t,"requestIdleCallback",(function(){return r.f})),n.d(t,"validCredits",(function(){return r.h})),n.d(t,"getTopWindow",(function(){return o.c})),n.d(t,"copyToClipboard",(function(){return o.a})),n.d(t,"findAncestor",(function(){return o.b})),n.d(t,"isUrl",(function(){return a})),n.d(t,"extractHostname",(function(){return c})),n.d(t,"getTopUrl",(function(){return l})),n.d(t,"getQueryStringValue",(function(){return f})),n.d(t,"getParamValueByKey",(function(){return d})),n.d(t,"getCurrentQueryString",(function(){return h})),n.d(t,"getQueryParamsObject",(function(){return s})),n.d(t,"upsertQueryParam",(function(){return y})),n.d(t,"upsertQueryParams",(function(){return p})),n.d(t,"generateUrlQueryString",(function(){return m})),n.d(t,"getUrlData",(function(){return b}));var r=n(1),o=n(2);const i=/^(?:https?:\/\/)?(?:[^@\n]+@)?(?:www\.)?([^:/\n?=]+)/im,u=/^(www.)(.*)$/;function a(e){return/^(https?:|ftp)/i.test(e)}function c(e){if(!a(e))return e;let t=e;const n=new URLSearchParams(e).get("parentHost");let r;n&&n.length>0&&(t=n);let o=t.match(i);return o&&([,r]=o,(o=r.match(u))&&([,r]=o)),r}function l(){return Object(o.c)().location.href}function f(e){if("undefined"==typeof window)return null;const{href:t}=window.location,n=new RegExp(`[?&]${e}=([^&#]*)`,"i").exec(t);return n?n[1]:null}function s(){if("undefined"==typeof window)return[];const{href:e}=window.location,t=2===e.split("?").length,n=e.split("?")[1];if(t&&n&&n.length){const e=decodeURIComponent(n);if(e.length)return e.split("&").map(e=>({key:e.split("=")[0].replace("?",""),value:e.split("=")[1]}))}return[]}function d(e){const t=s(),n=t.findIndex(t=>t.key===e);return-1!==n?t[n].value.split(","):null}function p(e,t){return t.forEach(t=>{const n=e.findIndex(e=>e.key===t.key);-1!==n?0===t.value.length?e.splice(n,1):e[n].value=t.value:0!==t.value.length&&e.push(t)}),e}function y(e,t){return p(s(),[{key:e,value:t}])}function m(e){return"?"+e.reduce((e,t,n)=>e.concat(`${0===n?"":"&"}${t.key}=${t.value}`),"")}function h(){if("undefined"==typeof window)return"";const{href:e}=window.location,t=2===e.split("?").length,n=e.split("?")[1]||"";return t?n:""}function b(){let e,t;try{t=c(e=l())}catch(e){}return{url:e,host:t}}},function(e,t,n){"use strict";n.r(t),n.d(t,"Timer",(function(){return o}));var r=n(4);class o{start(){this.startTime=window.performance.now()}delta(){return window.performance.now()-this.startTime}static deltaFromDomLoaded(){return Object(r.getTopWindow)().performance.now()}static deltaFromDomLoadedInSeconds({precision:e=2}={}){return(o.deltaFromDomLoaded()/1e3).toFixed(e)}}}]);